<!DOCTYPE <!DOCTYPE html>
<html>
<html lang="es">
<head>
	<title>
		Registro
		</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
		 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
		<script>
			function myFunction(){
				var lacontrasena=document.getElementById("contrasena");
				var textLength = lacontrasena.value.length;
					if(textLength < 6 ){
						document.getElementById("contrasena").style.border=$colorError;
						$("#verificacionContrasena").slideDown();
					}
					else{
						document.getElementById("contrasena").style.border=$colorOk;
						$("#verificacionContrasena").slideUp()
					}
				}
		$(document).ready(function(){
				$colorOk = document.getElementById("email").style.border;
				$colorError = 'solid 1px red';
				$("#formularioRegistro").hide();
				$("#login").hide();
				$("#verificacionEmail").hide();
				$("#verificacionEmail").css('color','red');
				$("#verificacionContrasena").hide();
				$("#verificacionContrasena").css('color','red');			
				$("#verificacionNick").hide();
				$("#verificacionNick").css('color','red');

				$("#email").blur(function(){
					$.ajax({
						type: "post",
						url:'ValidationForm.php',
						data: {'action':'emailValidation','email': $(this).val()},
						success: function(result) {
							if(result == "true"){
								$("#email").css('border', $colorError);
								$("#verificacionEmail").slideDown();
							}
							else{
								$("#email").css('border', $colorOk);
								$("#verificacionEmail").slideUp();
							}
						}
					});
				});

				$("#nick").blur(function(){
					$.ajax({
						type: "post",
						url:'ValidationForm.php',
						data: {'action':'nickValidation','nick': $(this).val()},
						success: function(result) {
							if(result == "true"){
								$("#nick").css('border', $colorError);
								$("#verificacionNick").slideDown();
							}
							else{
								$("#nick").css('border', $colorOk);
								$("#verificacionNick").slideUp();
							}
						}
					});
				});


				$("#EnviarRegistro").click(function(e) {
					if($("#verificacionEmail").is(":visible") || ($("#email").val() == "")){
							e.preventDefault();
							$("#email").focus();
						}
					else if($("#verificacionContrasena").is(":visible") || ($("#contrasena").val() == "")){
							e.preventDefault();
							$("#contrasena").focus();
						}
					else if($("#verificacionNick").is(":visible") || ($("#nick").val() == "")){
							e.preventDefault();
							$("#nick").focus();
					}

				});

				$("#loginButton").click(function(){
					$("#registerOrLogin").toggle( "slide" );
					$("#login").toggle( "slide" );
				});

				$("#registerButton").click(function(){
					$("#registerOrLogin").toggle( "slide" );
					$("#formularioRegistro").toggle( "slide" );
				});

				$("#loginNextStep").click(function(){
				});


		});
		</script>
		
</head>
<style type="text/css">
	div{
	}
	
	a:hover{
		text-decoration: underline;
	}


	<style>
	 
	body {
	  padding-top: 40px;
	  padding-bottom: 40px;
	  
	}
	 
	.register {
	  max-width: 330px;
	  padding: 15px;
	  margin: 0 auto;
	 
	}
	 
	#sha{
		max-width: 340px;
	    -webkit-box-shadow: 0px 0px 18px 0px rgba(48, 50, 50, 0.48);
	    -moz-box-shadow:    0px 0px 18px 0px rgba(48, 50, 50, 0.48);
	    box-shadow:         0px 0px 18px 0px rgba(48, 50, 50, 0.48);
	    border-radius: 6%;
	  }
 
</style>
</style>
<body>
<br><br><br><br><br><br><br>
<br><br><br><br><br><br><br>
	<div class="container well" id="sha">
    <div class="col-xs-12">
			<div class="formularioRegistro" name="formularioRegistro" id="formularioRegistro">
				<form  class ="register" method="post" action="View.php">
				<input type="email" class="form-control" id="email" name="email" placeholder="Correo electrónico" required >
				<input type="password" class="form-control" id="contrasena" name="contrasena" placeholder="Contraseña" title="(La contraseña debe tener al menos 6 caracteres)"
				required onblur="myFunction()">
				<input type="text" class="form-control" id="nick" name="nick" placeholder="Nick" required value="weqqqqqqqqqqqq">
				<input type="checkbox" checked name="newOffers" id="newOffers"> Quiero recibir ofertas especiales por correo<br>
				<input type="checkbox" required>He leido y estoy de acuerdo con las <a href="terminosYcondiciones.html">terminos y condiciones</a><br><br>
				<button type="submit" id="EnviarRegistro" class="btn btn-lg btn-primary btn-block" name="registerUser">Registrate</button>
				<p id="verificacionEmail" >El correo electronico ya se ha usado</p>
				<p id="verificacionContrasena">La contraseña tiene que tener longitud minima 6 caracteres</p>
				<p id="verificacionNick">El nick ya está en uso</p>
				</form>
			</div>
			<div class="login" name="login" id="login">
				<input type="text" class="form-control" id="emailOrNick" name="emailOrNick" placeholder="Correo electronico o nick" required ><br>
				<button type="button" class="btn btn-lg btn-primary btn-block" id="loginNextStep">Siguiente</button>
			</div>
			
			<div class="registerOrLogin" id="registerOrLogin">
				<button type="button" class="btn btn-lg btn-primary btn-block" id="loginButton">Iniciar sesión</button>
				<button type="button" class="btn btn-lg btn-primary btn-block" id="registerButton">Registrate</button>
			</div>
	</div>
</body>
</html>